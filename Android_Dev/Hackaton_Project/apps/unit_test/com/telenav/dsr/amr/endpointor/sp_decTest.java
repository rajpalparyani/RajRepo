package com.telenav.dsr.amr.endpointor;

import junit.framework.TestCase;

public class sp_decTest extends TestCase
{

    static byte[] amrAudio = new byte[]
    { 35, 33, 65, 77, 82, 10, 12, 31, 87, -98, -30, 113, -51, 117, 125, 89, 94, 104, 96, -28, 12, 52, 98, -32, -8, 8, 22, 77, -103, 115,
            34, -1, -73, -4, 12, -46, -73, 31, 56, 11, -17, 37, -14, 110, 83, 62, -14, 118, 12, 83, 26, 11, 24, 9, 45, -59, 126, 127, 72,
            -93, -55, 60, 12, -89, 74, 46, 39, 96, -46, 16, -124, 95, -53, -40, 112, 20, 12, -43, -18, -91, 27, 0, -44, 24, 53, 106, 21,
            59, 95, 52, 12, 120, 45, 47, 8, -99, -77, -23, 80, 107, 49, -80, -65, 20, 12, 124, 63, 63, 36, 34, 71, -104, -66, 114, -99,
            104, -77, 100, 12, -87, 62, 69, 41, -112, 47, -7, -20, -86, 2, -8, 84, -10, 12, 43, -35, 67, 44, 33, -26, 107, -3, -100, -85,
            73, -102, -58, 12, -87, -6, 79, 64, -112, 87, -98, -19, -61, 41, 116, -106, 16, 12, 18, 15, 95, 40, -108, 21, -73, -4, 124,
            -117, 58, 11, -6, 12, -87, -42, 103, 48, 37, -113, -69, 82, -84, 78, -72, 6, -6, 12, 18, -125, 111, -124, -53, 7, -122, -100,
            108, 86, -69, -71, -110, 12, -83, 41, 111, 40, -65, 7, -122, 52, 103, 38, 10, 54, -84, 12, 101, 41, 111, 72, -49, 39, -114, 4,
            -77, -105, -126, 105, -10, 12, -83, 55, 110, 77, 43, 23, -41, -33, 76, 41, -42, 100, -66, 12, -43, 19, 111, 45, 47, 79, -60,
            -6, -76, 58, 124, -58, 60, 12, -49, -108, 109, 5, -65, 87, -9, 61, 86, -115, -48, -65, -100 };

    static short[] speechAudio = new short[]
    { 0, 0, 0, 0, -8, -16, 0, 0, -8, 0, 0, 0, 0, 0, -8, -16, 0, 8, 0, 0, -8, 0, 0, -8, -8, 0, 0, 0, 0, -8, -8, -8, 8, 8, 0, 0, 0, -8, 0, 0,
            0, -8, -8, 0, 0, 0, 0, 0, 0, -8, -8, 0, 0, -8, 0, -8, -8, 8, 8, 0, -16, -8, 0, 0, -8, -8, 0, 0, 0, 0, 0, -8, -8, 8, 8, -8, -8,
            -8, -8, 8, 0, -8, 0, -8, 0, 0, 0, 0, 0, -8, -8, 0, 0, 0, -16, 0, 0, -8, -8, 0, 0, 8, -8, -16, 0, 0, 0, 0, -8, -8, -8, -8, 0, 8,
            0, -8, -8, 0, 0, -16, -16, 8, 8, 0, -8, -8, 0, 0, 0, 0, 0, 0, 0, -8, -8, 0, 8, 8, -8, -16, 0, 0, -8, -8, 0, 0, 0, 0, 0, 0, 0,
            0, -8, -8, 0, 0, -8, 0, 0, -8 };

    public void testDecoder_Interface_Decode()
    {
        interf_dec.dec_interface_State state = interf_dec.Decoder_Interface_init();

        short[] synchoronizedSpeech = new short[160];

        interf_dec.Decoder_Interface_Decode(state, amrAudio, 0, synchoronizedSpeech, 0, 0);
        assertEquals(speechAudio.length, synchoronizedSpeech.length);

        for (int i = 0; i < synchoronizedSpeech.length; i++)
        {
            assertEquals(speechAudio[i], synchoronizedSpeech[i]);
        }
    }

}
